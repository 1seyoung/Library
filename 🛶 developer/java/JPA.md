- JPA(Java Persistence API)는 자바 애플리케이션에서 관계형 데이터베이스를 효과적으로 관리하기 위한 ORM(Object-Relational Mapping) 기술 표준
- JPA를 사용하면 개발자가 SQL 쿼리를 직접 작성하지 않고도 자바 객체를 통해 데이터베이스를 조작할 수 있음

## 주요 특징 및 장점
- **생산성 향상**: 반복적인 CRUD 작업을 자동화하여 개발 시간을 단축
- **유지보수성 개선**: 데이터베이스 스키마 변경 시 SQL 쿼리 대신 자바 코드만 수정
- **객체 지향적 개발**: 데이터베이스 테이블을 자바 객체로 매핑하여 객체 지향 프로그래밍의 이점을 활용
- **데이터베이스 독립성**: 특정 데이터베이스에 종속되지 않는 애플리케이션 개발이 가능
- **성능 최적화**: 1차 캐시, 지연 로딩 등의 기능을 통해 성능을 향상

JPA는 복잡한 엔터프라이즈 애플리케이션에서 특히 유용하지만, 간단한 CRUD 작업만 필요한 소규모 프로젝트에서는 과도한 기술일 수 있음. 또한 매우 복잡한 쿼리나 특정 데이터베이스의 고유 기능을 사용해야 하는 경우에는 JPA만으로는 충분하지 않을 수 있음


## JPA 를 사용하면서 발생할 수 있는 문제
N+1 문제는 JPA 사용 시 발생할 수 있는 성능 문제 중 하나

객체-관계 매핑(ORM): JPA는 ORM 기술을 사용하여 객체와 관계형 데이터베이스 간의 매핑을 처리합니다. 이 과정에서 연관 관계가 있는 엔티티들을 조회할 때 N+1 문제가 발생할 수 있음


## 더티 체킹(Dirty Checking)
JPA에서 엔티티의 변경사항을 감지하여 자동으로 데이터베이스에 반영하는 기능

1. 영속성 컨텍스트가 관리하는 엔티티 객체의 변경을 감지
2. 트랜잭션 안에서 엔티티의 변경이 일어나면, 트랜잭션이 끝나는 시점에 변경 내용을 자동으로 데이터베이스에 반영
3. 엔티티를 조회할 때 해당 엔티티의 최초 상태를 스냅샷으로 저장
4. 트랜잭션이 끝날 때 스냅샷과 현재 상태를 비교하여 변경된 부분을 감지
5. 변경이 감지되면 자동으로 UPDATE 쿼리를 생성하여 데이터베이스에 반영
6. 별도의 update() 메서드 호출 없이도 엔티티의 변경사항이 데이터베이스에 반영
7. 영속 상태의 엔티티에 대해서만 동작하며, 준영속 상태나 비영속 상태의 엔티티에는 적용 x


## 영속성 컨텍스트 (Persistence Context)
주로 Java 생태계, 특히 JPA(Java Persistence API)와 관련된 개념
(Java에만 국한된 것은 x)
- 영속성 컨텍스트는 JPA에서 핵심적인 역할을 합니다. 엔티티의 생명주기를 관리하고, 데이터베이스와의 상호작용을 최적화하는 데 사용





- 데이터베이스 이론:  영속성은 데이터베이스 이론에서 중요한 개념. 데이터의 지속성과 일관성을 유지하는 것은 모든 데이터베이스 시스템의 핵심 기능
- 객체-관계 매핑(ORM) 기술:  영속성 컨텍스트 개념은 다른 ORM 프레임워크에서도 유사하게 사용. 예를 들어, .NET의 Entity Framework나 Python의 SQLAlchemy에서도 비슷한 개념을 찾을 수 있음